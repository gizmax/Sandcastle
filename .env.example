# Sandcastle Configuration
#
# LOCAL MODE (zero-config):
#   Leave DATABASE_URL and REDIS_URL empty (or remove them).
#   Sandcastle will use SQLite + filesystem + in-process queue automatically.
#
# PRODUCTION MODE:
#   Set DATABASE_URL and REDIS_URL to use PostgreSQL + Redis + S3.

# --- Required ---
SANDSTORM_URL=http://localhost:8000
ANTHROPIC_API_KEY=sk-ant-...
E2B_API_KEY=e2b_...

# --- Database ---
# Empty = local SQLite mode (auto-created in DATA_DIR)
# PostgreSQL = production mode
# DATABASE_URL=postgresql+asyncpg://sandcastle:sandcastle@localhost:5432/sandcastle
DATABASE_URL=

# --- Redis ---
# Empty = in-process queue (no separate worker needed)
# Redis URL = production mode (requires `arq` worker)
# REDIS_URL=redis://localhost:6379/0
REDIS_URL=

# --- Storage ---
# "local" = filesystem (default), "s3" = S3/MinIO
STORAGE_BACKEND=local
# S3 settings (only needed when STORAGE_BACKEND=s3)
# STORAGE_BUCKET=sandcastle-data
# STORAGE_ENDPOINT=http://localhost:9000
# AWS_ACCESS_KEY_ID=minioadmin
# AWS_SECRET_ACCESS_KEY=minioadmin

# --- Local mode data directory ---
DATA_DIR=./data

# --- Optional ---
WEBHOOK_SECRET=your-webhook-signing-secret
AUTH_REQUIRED=false
LOG_LEVEL=info
