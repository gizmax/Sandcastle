import{c as l,r as o,H as h,j as e,C as m,t as u,a as r,i as p,G as f,u as j}from"./index-BxoS6zFR.js";import{S as b}from"./server-Ci4ypuis.js";import{R as g}from"./rocket-Dcc1osvH.js";const N=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],v=l("wand-sparkles",N);const y=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],w=l("zap",y);function k({onComplete:s}){const[t,c]=o.useState(!1),[d,a]=o.useState(!1),{info:n}=h();async function x(){c(!0);try{(await p.get("/health")).data?.sandstorm&&a(!0)}catch{}c(!1)}return e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-accent/10",children:e.jsx(b,{className:"h-8 w-8 text-accent"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Connect to Sandshore"}),e.jsx("p",{className:"mt-1 text-sm text-muted",children:"Verify that your Sandshore runtime is running and accessible."})]}),n&&e.jsxs("div",{className:"mx-auto max-w-xs rounded-lg border border-border/50 bg-surface-secondary/50 p-3",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-medium text-muted",children:[e.jsx(w,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[n.mode==="local"?"Local mode":"Production mode"," detected"]})]}),e.jsxs("div",{className:"mt-1.5 flex items-center justify-center gap-3 text-xs text-muted/70",children:[e.jsx("span",{children:n.database}),e.jsx("span",{className:"text-border",children:"|"}),e.jsx("span",{children:n.queue}),e.jsx("span",{className:"text-border",children:"|"}),e.jsx("span",{children:n.storage}),e.jsx("span",{className:"text-border",children:"|"}),e.jsx("span",{className:"capitalize",children:n.sandbox_backend})]})]}),d?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-success",children:[e.jsx(m,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Connected successfully"})]}):e.jsx("button",{onClick:x,disabled:t,className:r("rounded-lg bg-accent px-6 py-2.5 text-sm font-medium text-accent-foreground","hover:bg-accent-hover transition-all duration-200 shadow-sm","disabled:opacity-50"),children:t?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 animate-spin"}),"Testing..."]}):"Test Connection"}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:s,className:"text-sm text-muted hover:text-foreground transition-colors",children:d?"Continue":"Skip"})})]})}const S=[{id:"lead-enrichment",name:"Lead Enrichment",description:"Scrape and enrich lead data from websites"},{id:"competitor-monitor",name:"Competitor Monitor",description:"Track competitor changes and generate reports"},{id:"seo-audit",name:"SEO Audit",description:"Analyze a website for SEO issues and recommendations"}];function C({onSelect:s}){return e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-accent/10",children:e.jsx(f,{className:"h-8 w-8 text-accent"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Choose a Workflow"}),e.jsx("p",{className:"mt-1 text-sm text-muted",children:"Start with a template or build from scratch."})]}),e.jsx("div",{className:"mx-auto grid max-w-md gap-3",children:S.map(t=>e.jsxs("button",{onClick:()=>s(t.id),className:r("flex items-start gap-3 rounded-xl border border-border p-4 text-left","hover:border-accent/40 hover:shadow-sm transition-all duration-200"),children:[e.jsx(v,{className:"mt-0.5 h-4 w-4 shrink-0 text-accent"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:t.name}),e.jsx("p",{className:"mt-0.5 text-xs text-muted",children:t.description})]})]},t.id))}),e.jsx("button",{onClick:()=>s(null),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"Start from scratch"})]})}function M({onComplete:s}){return e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-success/10",children:e.jsx(m,{className:"h-8 w-8 text-success"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"You're all set!"}),e.jsx("p",{className:"mt-1 text-sm text-muted",children:"Sandcastle is ready. Start running workflows from the dashboard."})]}),e.jsxs("button",{onClick:s,className:r("inline-flex items-center gap-2 rounded-lg bg-accent px-6 py-2.5 text-sm font-medium text-accent-foreground","hover:bg-accent-hover transition-all duration-200 shadow-sm hover:shadow-md"),children:[e.jsx(g,{className:"h-4 w-4"}),"Go to Dashboard"]})]})}const i=["Connect","Workflow","Ready"];function T({onFinish:s}){const[t,c]=o.useState(0);return e.jsxs("div",{className:"mx-auto max-w-lg",children:[e.jsx("div",{className:"mb-8 flex items-center justify-center gap-2",children:i.map((d,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:r("flex h-8 w-8 items-center justify-center rounded-full text-xs font-semibold",a<=t?"bg-accent text-accent-foreground":"bg-border text-muted"),children:a+1}),e.jsx("span",{className:r("text-xs font-medium",a<=t?"text-foreground":"text-muted"),children:d}),a<i.length-1&&e.jsx("div",{className:r("mx-2 h-px w-8",a<t?"bg-accent":"bg-border")})]},d))}),e.jsxs("div",{className:"rounded-xl border border-border bg-surface p-8 shadow-sm",children:[t===0&&e.jsx(k,{onComplete:()=>c(1)}),t===1&&e.jsx(C,{onSelect:()=>c(2)}),t===2&&e.jsx(M,{onComplete:s})]})]})}function W(){const s=j(),t=o.useCallback(()=>{localStorage.setItem("sandcastle-onboarding-done","true"),s("/")},[s]);return e.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:e.jsx(T,{onFinish:t})})}export{W as default};
