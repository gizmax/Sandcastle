# name: Meeting Recap
# description: Transform meeting transcript into summary, action items, and follow-up email
# tags: [Sales, Productivity, Communication]

name: meeting-recap
description: Transform meeting transcript into summary, action items, and follow-up email

default_model: sonnet
default_max_turns: 10
default_timeout: 300

input_schema:
  required: ["transcript", "meeting_title", "sender_name"]
  properties:
    transcript:
      type: string
      description: "The meeting transcript text"
    meeting_title:
      type: string
      description: "Title or subject of the meeting"
    sender_name:
      type: string
      description: "Name of the person sending the follow-up email"

steps:
  - id: summarize
    prompt: >
      Create a structured meeting summary from the following transcript.
      Include the meeting date, attendees, key discussion points, decisions
      made, and any open questions. Organize by topic and highlight the
      most important outcomes clearly.
      Transcript: {input.transcript}
      Meeting title: {input.meeting_title}
    model: sonnet
    max_turns: 8

  - id: action-items
    depends_on: [summarize]
    prompt: >
      Extract all action items from the meeting summary. For each item,
      specify the owner (who is responsible), a clear description of the
      task, the agreed deadline or timeframe, and the priority level.
      Format as a structured checklist that can be imported into a task
      tracker.
      Meeting summary: {steps.summarize.output}
    model: haiku
    max_turns: 5

  - id: follow-up-email
    depends_on: [summarize, action-items]
    prompt: >
      Draft a professional follow-up email to send to all meeting attendees.
      Include a brief recap of key decisions, the full list of action items
      with owners and deadlines, and proposed next steps or next meeting date.
      Keep the tone friendly but professional, and make it easy to scan quickly.
      Meeting summary: {steps.summarize.output}
      Action items: {steps.action-items.output}
      Sender name: {input.sender_name}
    model: sonnet
    max_turns: 8
